# Тесты контроллеров в проекте Vermillion

В этом проекте реализованы unit-тесты для всех контроллеров:

1. `HomeControllerTest` - тесты для главной страницы
2. `AuthControllerTest` - тесты для контроллера аутентификации (регистрация и вход)
3. `ProfileControllerTest` - тесты для контроллера профиля пользователя
4. `TaskControllerTest` - тесты для управления задачами
5. `ProjectControllerTest` - тесты для управления проектами
6. `DeveloperControllerTest` - тесты для управления разработчиками
7. `RoleControllerTest` - тесты для управления ролями

## Структура тестов

Для каждого контроллера тесты охватывают:

- API-методы (JSON)
  - GET-запросы (получение списка и отдельных элементов)
  - POST-запросы (создание новых элементов)
  - PUT-запросы (обновление существующих элементов)
  - DELETE-запросы (удаление элементов)

- HTML/Thymeleaf методы
  - Отображение списков
  - Отображение форм создания/редактирования
  - Сохранение через формы
  - Удаление через ссылки в UI

## Запуск тестов

Для запуска тестов используйте команду:

```bash
mvn test
```

## Важные примечания

- Для тестов используется `@WebMvcTest`, что позволяет тестировать только слой контроллеров.
- Сервисы мокируются с помощью `@MockBean`.
- Для тестов, требующих аутентификации, используется `@WithMockUser`.
- Тесты для методов POST/PUT используют `SecurityMockMvcRequestPostProcessors.csrf()` для прохождения CSRF-защиты.